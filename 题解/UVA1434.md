## UVA1434 YAPTCHA

### 题意

给一个数 $n$，求
$$
\sum_{i=1}^{n} \left\lfloor \frac{(3i+6)! + 1}{3i+7}  - \left\lfloor \frac{(3i+6)!}{3i+7} \right\rfloor \right\rfloor
$$

### 思路

原式可以写成
$$
\sum_{i=1}^{n} \left\lfloor \frac{(3i+6)! + 1}{3i+7} \right\rfloor - \left\lfloor \frac{(3i+6)!}{3i+7} \right\rfloor
$$
令
$$
f(i)=\left\lfloor \frac{(3i+6)! + 1}{3i+7} \right\rfloor - \left\lfloor \frac{(3i+6)!}{3i+7} \right\rfloor
$$
则 $f(i)$ 只能取到 $1$ 或 $0$ 。

发现当且仅当 $(3i+6)!+1 \mod 3i+7 =0$ 时，$f(i)=1$。

其他 $f(i)=0$。

$(3i+6)!+1 \mod 3i+7 =0$ 等价于 $(3i+6)! \equiv -1 \pmod {3i+7}$。

通过威尔逊定理可以得出，当 $3i+7$ 为质数的时候，$f(i)=1$，否则 $f(i)=0$。

然后递推即可。

